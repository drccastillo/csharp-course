<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="689px" preserveAspectRatio="none" style="width:1555px;height:689px;" version="1.1" viewBox="0 0 1555 689" width="1555px" zoomAndPan="magnify"><defs><filter height="300%" id="fmj90tefn8x53" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[ce1305e8042becf191ab674e0cb9a46c]
cluster Domain.Models--><polygon fill="#FFFFFF" filter="url(#fmj90tefn8x53)" points="683,457,808,457,815,479.2969,996,479.2969,996,677,683,677,683,457" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="683" x2="815" y1="479.2969" y2="479.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="119" x="687" y="471.9951">Domain.Models</text><!--MD5=[039c409ac3c3f68318559005d43be5e9]
cluster Domain.Interfaces--><polygon fill="#FFFFFF" filter="url(#fmj90tefn8x53)" points="713,147,862,147,869,169.2969,1205,169.2969,1205,310,713,310,713,147" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="713" x2="869" y1="169.2969" y2="169.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="143" x="717" y="161.9951">Domain.Interfaces</text><!--MD5=[15f56088a49f360b2a98782732453501]
cluster Domain.Exceptions--><polygon fill="#FFFFFF" filter="url(#fmj90tefn8x53)" points="1192,24,1347,24,1354,46.2969,1424,46.2969,1424,123,1192,123,1192,24" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1192" x2="1354" y1="46.2969" y2="46.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="149" x="1196" y="38.9951">Domain.Exceptions</text><!--MD5=[348e00434c0740961f23378b1da24e01]
cluster Infrastructure.Repositories--><polygon fill="#FFFFFF" filter="url(#fmj90tefn8x53)" points="708,334,928,334,935,356.2969,938,356.2969,938,433,708,433,708,334" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="708" x2="935" y1="356.2969" y2="356.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="214" x="712" y="348.9951">Infrastructure.Repositories</text><!--MD5=[5adff25cab0244684106f3b6066202a1]
cluster Application.Services--><polygon fill="#FFFFFF" filter="url(#fmj90tefn8x53)" points="965,334,1131,334,1138,356.2969,1201,356.2969,1201,433,965,433,965,334" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="965" x2="1138" y1="356.2969" y2="356.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="160" x="969" y="348.9951">Application.Services</text><!--MD5=[bca08a16471ea77806cab59dce7ef215]
cluster Repl.Interfaces--><polygon fill="#FFFFFF" filter="url(#fmj90tefn8x53)" points="22,160,147,160,154,182.2969,689,182.2969,689,297,22,297,22,160" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="154" y1="182.2969" y2="182.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="119" x="26" y="174.9951">Repl.Interfaces</text><!--MD5=[475a3c4a5489d404acb41c11ed16c0d5]
cluster Repl.Commands--><polygon fill="#FFFFFF" filter="url(#fmj90tefn8x53)" points="50,24,182,24,189,46.2969,715,46.2969,715,123,50,123,50,24" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="50" x2="189" y1="46.2969" y2="46.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="126" x="54" y="38.9951">Repl.Commands</text><!--MD5=[090221f1266dacb9563f163c8069d2a5]
cluster Repl.Core--><polygon fill="#FFFFFF" filter="url(#fmj90tefn8x53)" points="1229,166,1312,166,1319,188.2969,1533,188.2969,1533,291,1229,291,1229,166" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1229" x2="1319" y1="188.2969" y2="188.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="77" x="1233" y="180.9951">Repl.Core</text><!--MD5=[fbb8417537127b84897604d56fc1b407]
cluster Repl.Adapters--><polygon fill="#FFFFFF" filter="url(#fmj90tefn8x53)" points="262,334,379,334,386,356.2969,414,356.2969,414,433,262,433,262,334" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="262" x2="386" y1="356.2969" y2="356.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="111" x="266" y="348.9951">Repl.Adapters</text><!--MD5=[c48a0836daba1c1b0f41380a189e3a9f]
cluster Repl--><polygon fill="#FFFFFF" filter="url(#fmj90tefn8x53)" points="863,24,903,24,910,46.2969,1059,46.2969,1059,123,863,123,863,24" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="863" x2="910" y1="46.2969" y2="46.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="34" x="867" y="38.9951">Repl</text><!--MD5=[d8c8cfd5ca149094f5b67f9f607a5ec7]
class Token--><rect fill="#FEFECE" filter="url(#fmj90tefn8x53)" height="48" id="Token" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="803" y="492"/><ellipse cx="818" cy="508" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M818.1094,503.3438 L816.9531,508.4219 L819.2813,508.4219 L818.1094,503.3438 Z M816.625,501.1094 L819.6094,501.1094 L822.9688,513.5 L820.5156,513.5 L819.75,510.4375 L816.4688,510.4375 L815.7188,513.5 L813.2813,513.5 L816.625,501.1094 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="38" x="832" y="512.1543">Token</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="804" x2="872" y1="524" y2="524"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="804" x2="872" y1="532" y2="532"/><!--MD5=[d6b8adba2a18570349c06670afecc3f6]
class NumberToken--><rect fill="#FEFECE" filter="url(#fmj90tefn8x53)" height="60.8047" id="NumberToken" style="stroke: #A80036; stroke-width: 1.5;" width="119" x="699.5" y="600"/><ellipse cx="714.5" cy="616" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M717.4688,621.6406 Q716.8906,621.9375 716.25,622.0781 Q715.6094,622.2344 714.9063,622.2344 Q712.4063,622.2344 711.0781,620.5938 Q709.7656,618.9375 709.7656,615.8125 Q709.7656,612.6875 711.0781,611.0313 Q712.4063,609.375 714.9063,609.375 Q715.6094,609.375 716.25,609.5313 Q716.9063,609.6875 717.4688,609.9844 L717.4688,612.7031 Q716.8438,612.125 716.25,611.8594 Q715.6563,611.5781 715.0313,611.5781 Q713.6875,611.5781 713,612.6563 Q712.3125,613.7188 712.3125,615.8125 Q712.3125,617.9063 713,618.9844 Q713.6875,620.0469 715.0313,620.0469 Q715.6563,620.0469 716.25,619.7813 Q716.8438,619.5 717.4688,618.9219 L717.4688,621.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="87" x="728.5" y="620.1543">NumberToken</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="700.5" x2="817.5" y1="632" y2="632"/><ellipse cx="710.5" cy="643" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="73" x="719.5" y="646.2104">double Value</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="700.5" x2="817.5" y1="652.8047" y2="652.8047"/><!--MD5=[5022ceec50617c0e742021acc50548cd]
class OperatorToken--><rect fill="#FEFECE" filter="url(#fmj90tefn8x53)" height="60.8047" id="OperatorToken" style="stroke: #A80036; stroke-width: 1.5;" width="126" x="854" y="600"/><ellipse cx="869" cy="616" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M871.9688,621.6406 Q871.3906,621.9375 870.75,622.0781 Q870.1094,622.2344 869.4063,622.2344 Q866.9063,622.2344 865.5781,620.5938 Q864.2656,618.9375 864.2656,615.8125 Q864.2656,612.6875 865.5781,611.0313 Q866.9063,609.375 869.4063,609.375 Q870.1094,609.375 870.75,609.5313 Q871.4063,609.6875 871.9688,609.9844 L871.9688,612.7031 Q871.3438,612.125 870.75,611.8594 Q870.1563,611.5781 869.5313,611.5781 Q868.1875,611.5781 867.5,612.6563 Q866.8125,613.7188 866.8125,615.8125 Q866.8125,617.9063 867.5,618.9844 Q868.1875,620.0469 869.5313,620.0469 Q870.1563,620.0469 870.75,619.7813 Q871.3438,619.5 871.9688,618.9219 L871.9688,621.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="94" x="883" y="620.1543">OperatorToken</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="855" x2="979" y1="632" y2="632"/><ellipse cx="865" cy="643" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="71" x="874" y="646.2104">char Symbol</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="855" x2="979" y1="652.8047" y2="652.8047"/><!--MD5=[5a8044c9d220965836fc8c77e047d213]
class IUndoStackRepository--><rect fill="#FEFECE" filter="url(#fmj90tefn8x53)" height="99.2188" id="IUndoStackRepository" style="stroke: #A80036; stroke-width: 1.5;" width="217" x="729.5" y="188.5"/><ellipse cx="765.65" cy="204.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M761.5719,200.2656 L761.5719,198.1094 L768.9625,198.1094 L768.9625,200.2656 L766.4938,200.2656 L766.4938,208.3438 L768.9625,208.3438 L768.9625,210.5 L761.5719,210.5 L761.5719,208.3438 L764.0406,208.3438 L764.0406,200.2656 L761.5719,200.2656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="138" x="784.35" y="208.6543">IUndoStackRepository</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="730.5" x2="945.5" y1="220.5" y2="220.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="730.5" x2="945.5" y1="228.5" y2="228.5"/><ellipse cx="740.5" cy="239.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="97" x="749.5" y="242.7104">void Push(Token)</text><ellipse cx="740.5" cy="252.3047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="73" x="749.5" y="255.5151">Token? Pop()</text><ellipse cx="740.5" cy="265.1094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="191" x="749.5" y="268.3198">IReadOnlyList&lt;Token&gt; GetStack()</text><ellipse cx="740.5" cy="277.9141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="65" x="749.5" y="281.1245">void Clear()</text><!--MD5=[9a34a163bcc09ede14d2525be47625a2]
class IExpressionEvaluatorService--><rect fill="#FEFECE" filter="url(#fmj90tefn8x53)" height="112.0234" id="IExpressionEvaluatorService" style="stroke: #A80036; stroke-width: 1.5;" width="207" x="981.5" y="182"/><ellipse cx="996.5" cy="198" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M992.4219,193.7656 L992.4219,191.6094 L999.8125,191.6094 L999.8125,193.7656 L997.3438,193.7656 L997.3438,201.8438 L999.8125,201.8438 L999.8125,204 L992.4219,204 L992.4219,201.8438 L994.8906,201.8438 L994.8906,193.7656 L992.4219,193.7656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="175" x="1010.5" y="202.1543">IExpressionEvaluatorService</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="982.5" x2="1187.5" y1="214" y2="214"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="982.5" x2="1187.5" y1="222" y2="222"/><ellipse cx="992.5" cy="233" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="148" x="1001.5" y="236.2104">void EnterNumber(double)</text><ellipse cx="992.5" cy="245.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="141" x="1001.5" y="249.0151">void EnterOperator(char)</text><ellipse cx="992.5" cy="258.6094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="98" x="1001.5" y="261.8198">double Evaluate()</text><ellipse cx="992.5" cy="271.4141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="64" x="1001.5" y="274.6245">void Undo()</text><ellipse cx="992.5" cy="284.2188" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="65" x="1001.5" y="287.4292">void Clear()</text><!--MD5=[7b4deb3b7bbc77aac1c0fe85bb6152a7]
class InvalidExpressionException--><rect fill="#FEFECE" filter="url(#fmj90tefn8x53)" height="48" id="InvalidExpressionException" style="stroke: #A80036; stroke-width: 1.5;" width="200" x="1208" y="59"/><ellipse cx="1223" cy="75" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1225.9688,80.6406 Q1225.3906,80.9375 1224.75,81.0781 Q1224.1094,81.2344 1223.4063,81.2344 Q1220.9063,81.2344 1219.5781,79.5938 Q1218.2656,77.9375 1218.2656,74.8125 Q1218.2656,71.6875 1219.5781,70.0313 Q1220.9063,68.375 1223.4063,68.375 Q1224.1094,68.375 1224.75,68.5313 Q1225.4063,68.6875 1225.9688,68.9844 L1225.9688,71.7031 Q1225.3438,71.125 1224.75,70.8594 Q1224.1563,70.5781 1223.5313,70.5781 Q1222.1875,70.5781 1221.5,71.6563 Q1220.8125,72.7188 1220.8125,74.8125 Q1220.8125,76.9063 1221.5,77.9844 Q1222.1875,79.0469 1223.5313,79.0469 Q1224.1563,79.0469 1224.75,78.7813 Q1225.3438,78.5 1225.9688,77.9219 L1225.9688,80.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="168" x="1237" y="79.1543">InvalidExpressionException</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1209" x2="1407" y1="91" y2="91"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1209" x2="1407" y1="99" y2="99"/><!--MD5=[ffec088b5d1a5ff665987be3c9fbb5b4]
class UndoStackRepository--><rect fill="#FEFECE" filter="url(#fmj90tefn8x53)" height="48" id="UndoStackRepository" style="stroke: #A80036; stroke-width: 1.5;" width="166" x="755" y="369"/><ellipse cx="770" cy="385" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M772.9688,390.6406 Q772.3906,390.9375 771.75,391.0781 Q771.1094,391.2344 770.4063,391.2344 Q767.9063,391.2344 766.5781,389.5938 Q765.2656,387.9375 765.2656,384.8125 Q765.2656,381.6875 766.5781,380.0313 Q767.9063,378.375 770.4063,378.375 Q771.1094,378.375 771.75,378.5313 Q772.4063,378.6875 772.9688,378.9844 L772.9688,381.7031 Q772.3438,381.125 771.75,380.8594 Q771.1563,380.5781 770.5313,380.5781 Q769.1875,380.5781 768.5,381.6563 Q767.8125,382.7188 767.8125,384.8125 Q767.8125,386.9063 768.5,387.9844 Q769.1875,389.0469 770.5313,389.0469 Q771.1563,389.0469 771.75,388.7813 Q772.3438,388.5 772.9688,387.9219 L772.9688,390.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="134" x="784" y="389.1543">UndoStackRepository</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="756" x2="920" y1="401" y2="401"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="756" x2="920" y1="409" y2="409"/><!--MD5=[a9ae24311e441e42c250acef45060a99]
class ExpressionEvaluatorService--><rect fill="#FEFECE" filter="url(#fmj90tefn8x53)" height="48" id="ExpressionEvaluatorService" style="stroke: #A80036; stroke-width: 1.5;" width="204" x="981" y="369"/><ellipse cx="996" cy="385" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M998.9688,390.6406 Q998.3906,390.9375 997.75,391.0781 Q997.1094,391.2344 996.4063,391.2344 Q993.9063,391.2344 992.5781,389.5938 Q991.2656,387.9375 991.2656,384.8125 Q991.2656,381.6875 992.5781,380.0313 Q993.9063,378.375 996.4063,378.375 Q997.1094,378.375 997.75,378.5313 Q998.4063,378.6875 998.9688,378.9844 L998.9688,381.7031 Q998.3438,381.125 997.75,380.8594 Q997.1563,380.5781 996.5313,380.5781 Q995.1875,380.5781 994.5,381.6563 Q993.8125,382.7188 993.8125,384.8125 Q993.8125,386.9063 994.5,387.9844 Q995.1875,389.0469 996.5313,389.0469 Q997.1563,389.0469 997.75,388.7813 Q998.3438,388.5 998.9688,387.9219 L998.9688,390.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="172" x="1010" y="389.1543">ExpressionEvaluatorService</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="982" x2="1184" y1="401" y2="401"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="982" x2="1184" y1="409" y2="409"/><!--MD5=[f7a94363c69e7764db246d51a87ac4db]
class IReplCommand--><rect fill="#FEFECE" filter="url(#fmj90tefn8x53)" height="86.4141" id="IReplCommand" style="stroke: #A80036; stroke-width: 1.5;" width="183" x="38.5" y="195"/><ellipse cx="79.6" cy="211" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M75.5219,206.7656 L75.5219,204.6094 L82.9125,204.6094 L82.9125,206.7656 L80.4438,206.7656 L80.4438,214.8438 L82.9125,214.8438 L82.9125,217 L75.5219,217 L75.5219,214.8438 L77.9906,214.8438 L77.9906,206.7656 L75.5219,206.7656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="93" x="99.4" y="215.1543">IReplCommand</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="39.5" x2="220.5" y1="227" y2="227"/><ellipse cx="49.5" cy="238" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="70" x="58.5" y="241.2104">string Name</text><ellipse cx="49.5" cy="250.8047" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="58.5" y="254.0151">string Description</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="39.5" x2="220.5" y1="260.6094" y2="260.6094"/><ellipse cx="49.5" cy="271.6094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="157" x="58.5" y="274.8198">Task ExecuteAsync(string[])</text><!--MD5=[54c0dea6963f4dd7bbed15b2fdfa812a]
class IConsoleWriter--><rect fill="#FEFECE" filter="url(#fmj90tefn8x53)" height="73.6094" id="IConsoleWriter" style="stroke: #A80036; stroke-width: 1.5;" width="163" x="256.5" y="201"/><ellipse cx="289.5" cy="217" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M285.4219,212.7656 L285.4219,210.6094 L292.8125,210.6094 L292.8125,212.7656 L290.3438,212.7656 L290.3438,220.8438 L292.8125,220.8438 L292.8125,223 L285.4219,223 L285.4219,220.8438 L287.8906,220.8438 L287.8906,212.7656 L285.4219,212.7656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="91" x="307.5" y="221.1543">IConsoleWriter</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="257.5" x2="418.5" y1="233" y2="233"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="257.5" x2="418.5" y1="241" y2="241"/><ellipse cx="267.5" cy="252" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="119" x="276.5" y="255.2104">void WriteLine(string)</text><ellipse cx="267.5" cy="264.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="137" x="276.5" y="268.0151">void WritePrompt(string)</text><!--MD5=[c8535e893651b0fa485b0a0e1cefc0f0]
class IInputValidator--><rect fill="#FEFECE" filter="url(#fmj90tefn8x53)" height="73.6094" id="IInputValidator" style="stroke: #A80036; stroke-width: 1.5;" width="218" x="455" y="201"/><ellipse cx="513.25" cy="217" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M509.1719,212.7656 L509.1719,210.6094 L516.5625,210.6094 L516.5625,212.7656 L514.0938,212.7656 L514.0938,220.8438 L516.5625,220.8438 L516.5625,223 L509.1719,223 L509.1719,220.8438 L511.6406,220.8438 L511.6406,212.7656 L509.1719,212.7656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="93" x="533.75" y="221.1543">IInputValidator</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="456" x2="672" y1="233" y2="233"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="456" x2="672" y1="241" y2="241"/><ellipse cx="466" cy="252" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="192" x="475" y="255.2104">bool IsNumber(string, out double)</text><ellipse cx="466" cy="264.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="185" x="475" y="268.0151">bool IsOperator(string, out char)</text><!--MD5=[b6f38b6d89ddadc63dab3b35c8cc0917]
class EvaluateCommand--><rect fill="#FEFECE" filter="url(#fmj90tefn8x53)" height="48" id="EvaluateCommand" style="stroke: #A80036; stroke-width: 1.5;" width="148" x="390" y="59"/><ellipse cx="405" cy="75" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M407.9688,80.6406 Q407.3906,80.9375 406.75,81.0781 Q406.1094,81.2344 405.4063,81.2344 Q402.9063,81.2344 401.5781,79.5938 Q400.2656,77.9375 400.2656,74.8125 Q400.2656,71.6875 401.5781,70.0313 Q402.9063,68.375 405.4063,68.375 Q406.1094,68.375 406.75,68.5313 Q407.4063,68.6875 407.9688,68.9844 L407.9688,71.7031 Q407.3438,71.125 406.75,70.8594 Q406.1563,70.5781 405.5313,70.5781 Q404.1875,70.5781 403.5,71.6563 Q402.8125,72.7188 402.8125,74.8125 Q402.8125,76.9063 403.5,77.9844 Q404.1875,79.0469 405.5313,79.0469 Q406.1563,79.0469 406.75,78.7813 Q407.3438,78.5 407.9688,77.9219 L407.9688,80.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="116" x="419" y="79.1543">EvaluateCommand</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="391" x2="537" y1="91" y2="91"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="391" x2="537" y1="99" y2="99"/><!--MD5=[50dbc1e8499eea6207fc633a8dd9eb03]
class InputCommand--><rect fill="#FEFECE" filter="url(#fmj90tefn8x53)" height="48" id="InputCommand" style="stroke: #A80036; stroke-width: 1.5;" width="126" x="573" y="59"/><ellipse cx="588" cy="75" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M590.9688,80.6406 Q590.3906,80.9375 589.75,81.0781 Q589.1094,81.2344 588.4063,81.2344 Q585.9063,81.2344 584.5781,79.5938 Q583.2656,77.9375 583.2656,74.8125 Q583.2656,71.6875 584.5781,70.0313 Q585.9063,68.375 588.4063,68.375 Q589.1094,68.375 589.75,68.5313 Q590.4063,68.6875 590.9688,68.9844 L590.9688,71.7031 Q590.3438,71.125 589.75,70.8594 Q589.1563,70.5781 588.5313,70.5781 Q587.1875,70.5781 586.5,71.6563 Q585.8125,72.7188 585.8125,74.8125 Q585.8125,76.9063 586.5,77.9844 Q587.1875,79.0469 588.5313,79.0469 Q589.1563,79.0469 589.75,78.7813 Q590.3438,78.5 590.9688,77.9219 L590.9688,80.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="94" x="602" y="79.1543">InputCommand</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="574" x2="698" y1="91" y2="91"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="574" x2="698" y1="99" y2="99"/><!--MD5=[74b8563e5f08ffa68154868b9ae405e2]
class UndoCommand--><rect fill="#FEFECE" filter="url(#fmj90tefn8x53)" height="48" id="UndoCommand" style="stroke: #A80036; stroke-width: 1.5;" width="127" x="66.5" y="59"/><ellipse cx="81.5" cy="75" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M84.4688,80.6406 Q83.8906,80.9375 83.25,81.0781 Q82.6094,81.2344 81.9063,81.2344 Q79.4063,81.2344 78.0781,79.5938 Q76.7656,77.9375 76.7656,74.8125 Q76.7656,71.6875 78.0781,70.0313 Q79.4063,68.375 81.9063,68.375 Q82.6094,68.375 83.25,68.5313 Q83.9063,68.6875 84.4688,68.9844 L84.4688,71.7031 Q83.8438,71.125 83.25,70.8594 Q82.6563,70.5781 82.0313,70.5781 Q80.6875,70.5781 80,71.6563 Q79.3125,72.7188 79.3125,74.8125 Q79.3125,76.9063 80,77.9844 Q80.6875,79.0469 82.0313,79.0469 Q82.6563,79.0469 83.25,78.7813 Q83.8438,78.5 84.4688,77.9219 L84.4688,80.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="95" x="95.5" y="79.1543">UndoCommand</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="67.5" x2="192.5" y1="91" y2="91"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="67.5" x2="192.5" y1="99" y2="99"/><!--MD5=[bbc0d8bc1c167f63d1f01f9569266c8a]
class ClearCommand--><rect fill="#FEFECE" filter="url(#fmj90tefn8x53)" height="48" id="ClearCommand" style="stroke: #A80036; stroke-width: 1.5;" width="126" x="229" y="59"/><ellipse cx="244" cy="75" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M246.9688,80.6406 Q246.3906,80.9375 245.75,81.0781 Q245.1094,81.2344 244.4063,81.2344 Q241.9063,81.2344 240.5781,79.5938 Q239.2656,77.9375 239.2656,74.8125 Q239.2656,71.6875 240.5781,70.0313 Q241.9063,68.375 244.4063,68.375 Q245.1094,68.375 245.75,68.5313 Q246.4063,68.6875 246.9688,68.9844 L246.9688,71.7031 Q246.3438,71.125 245.75,70.8594 Q245.1563,70.5781 244.5313,70.5781 Q243.1875,70.5781 242.5,71.6563 Q241.8125,72.7188 241.8125,74.8125 Q241.8125,76.9063 242.5,77.9844 Q243.1875,79.0469 244.5313,79.0469 Q245.1563,79.0469 245.75,78.7813 Q246.3438,78.5 246.9688,77.9219 L246.9688,80.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="94" x="258" y="79.1543">ClearCommand</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="230" x2="354" y1="91" y2="91"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="230" x2="354" y1="99" y2="99"/><!--MD5=[5a3c12c31bdc32bdc60a10f0ad91ad44]
class ReplCommandRegistry--><rect fill="#FEFECE" filter="url(#fmj90tefn8x53)" height="73.6094" id="ReplCommandRegistry" style="stroke: #A80036; stroke-width: 1.5;" width="272" x="1245" y="201"/><ellipse cx="1307.25" cy="217" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1310.2188,222.6406 Q1309.6406,222.9375 1309,223.0781 Q1308.3594,223.2344 1307.6563,223.2344 Q1305.1563,223.2344 1303.8281,221.5938 Q1302.5156,219.9375 1302.5156,216.8125 Q1302.5156,213.6875 1303.8281,212.0313 Q1305.1563,210.375 1307.6563,210.375 Q1308.3594,210.375 1309,210.5313 Q1309.6563,210.6875 1310.2188,210.9844 L1310.2188,213.7031 Q1309.5938,213.125 1309,212.8594 Q1308.4063,212.5781 1307.7813,212.5781 Q1306.4375,212.5781 1305.75,213.6563 Q1305.0625,214.7188 1305.0625,216.8125 Q1305.0625,218.9063 1305.75,219.9844 Q1306.4375,221.0469 1307.7813,221.0469 Q1308.4063,221.0469 1309,220.7813 Q1309.5938,220.5 1310.2188,219.9219 L1310.2188,222.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="139" x="1327.75" y="221.1543">ReplCommandRegistry</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1246" x2="1516" y1="233" y2="233"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1246" x2="1516" y1="241" y2="241"/><ellipse cx="1256" cy="252" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="167" x="1265" y="255.2104">void Register(IReplCommand)</text><ellipse cx="1256" cy="264.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="246" x="1265" y="268.0151">bool TryResolve(string, out IReplCommand)</text><!--MD5=[36120d38c3c5e6d394cdde41f27bbdec]
class ConsoleWriter--><rect fill="#FEFECE" filter="url(#fmj90tefn8x53)" height="48" id="ConsoleWriter" style="stroke: #A80036; stroke-width: 1.5;" width="119" x="278.5" y="369"/><ellipse cx="293.5" cy="385" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M296.4688,390.6406 Q295.8906,390.9375 295.25,391.0781 Q294.6094,391.2344 293.9063,391.2344 Q291.4063,391.2344 290.0781,389.5938 Q288.7656,387.9375 288.7656,384.8125 Q288.7656,381.6875 290.0781,380.0313 Q291.4063,378.375 293.9063,378.375 Q294.6094,378.375 295.25,378.5313 Q295.9063,378.6875 296.4688,378.9844 L296.4688,381.7031 Q295.8438,381.125 295.25,380.8594 Q294.6563,380.5781 294.0313,380.5781 Q292.6875,380.5781 292,381.6563 Q291.3125,382.7188 291.3125,384.8125 Q291.3125,386.9063 292,387.9844 Q292.6875,389.0469 294.0313,389.0469 Q294.6563,389.0469 295.25,388.7813 Q295.8438,388.5 296.4688,387.9219 L296.4688,390.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="87" x="307.5" y="389.1543">ConsoleWriter</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="279.5" x2="396.5" y1="401" y2="401"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="279.5" x2="396.5" y1="409" y2="409"/><!--MD5=[f001fe7cd227c19160a806a91528c069]
class Problem1ReplRunner--><rect fill="#FEFECE" filter="url(#fmj90tefn8x53)" height="48" id="Problem1ReplRunner" style="stroke: #A80036; stroke-width: 1.5;" width="163" x="879.5" y="59"/><ellipse cx="894.5" cy="75" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M897.4688,80.6406 Q896.8906,80.9375 896.25,81.0781 Q895.6094,81.2344 894.9063,81.2344 Q892.4063,81.2344 891.0781,79.5938 Q889.7656,77.9375 889.7656,74.8125 Q889.7656,71.6875 891.0781,70.0313 Q892.4063,68.375 894.9063,68.375 Q895.6094,68.375 896.25,68.5313 Q896.9063,68.6875 897.4688,68.9844 L897.4688,71.7031 Q896.8438,71.125 896.25,70.8594 Q895.6563,70.5781 895.0313,70.5781 Q893.6875,70.5781 893,71.6563 Q892.3125,72.7188 892.3125,74.8125 Q892.3125,76.9063 893,77.9844 Q893.6875,79.0469 895.0313,79.0469 Q895.6563,79.0469 896.25,78.7813 Q896.8438,78.5 897.4688,77.9219 L897.4688,80.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="131" x="908.5" y="79.1543">Problem1ReplRunner</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="880.5" x2="1041.5" y1="91" y2="91"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="880.5" x2="1041.5" y1="99" y2="99"/><!--MD5=[b65bfb95935505c70f92d8f4b29e5689]
reverse link Token to NumberToken--><path d="M810.06,556.79 C800.15,570.9 789.18,586.52 779.96,599.65 " fill="none" id="Token&lt;-NumberToken" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="804.6,552.38,821.82,540.04,816.06,560.43,804.6,552.38" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[186f926fc127f8c9d605585de521e08e]
reverse link Token to OperatorToken--><path d="M865.94,556.79 C875.85,570.9 886.82,586.52 896.04,599.65 " fill="none" id="Token&lt;-OperatorToken" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="859.94,560.43,854.18,540.04,871.4,552.38,859.94,560.43" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[12f5764217da2df57f4947c567cc5a21]
reverse link IUndoStackRepository to UndoStackRepository--><path d="M838,307.9 C838,329.79 838,352.51 838,368.81 " fill="none" id="IUndoStackRepository&lt;-UndoStackRepository" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="831,307.83,838,287.83,845,307.83,831,307.83" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[4907062dd175c4ae39a7eba01b05052c]
reverse link IExpressionEvaluatorService to ExpressionEvaluatorService--><path d="M1084.02,314.26 C1083.76,334.11 1083.5,354.08 1083.3,368.8 " fill="none" id="IExpressionEvaluatorService&lt;-ExpressionEvaluatorService" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="1077.02,314.14,1084.28,294.24,1091.02,314.33,1077.02,314.14" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[7a7628a13c5d6eb1e16fcd4660f66d90]
reverse link IReplCommand to EvaluateCommand--><path d="M178.57,180.6 C195.88,164.27 216.66,148.34 239,139 C266.52,127.49 344.24,138.9 373,131 C392.03,125.77 411.67,116.24 427.81,107.12 " fill="none" id="IReplCommand&lt;-EvaluateCommand" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="183.39,185.69,164.31,194.91,173.47,175.8,183.39,185.69" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[af75abbb7b81dd0a12b2edc6dd800e0a]
reverse link IReplCommand to InputCommand--><path d="M178.17,180.35 C195.51,163.91 216.42,147.99 239,139 C271.74,125.97 522.12,140.68 556,131 C573.35,126.05 590.83,116.43 605.01,107.18 " fill="none" id="IReplCommand&lt;-InputCommand" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="182.95,185.47,163.91,194.76,173,175.62,182.95,185.47" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[1a51b62806a5a4ffb0d4af136829a674]
reverse link IReplCommand to UndoCommand--><path d="M130,174.56 C130,150.79 130,125.15 130,107.24 " fill="none" id="IReplCommand&lt;-UndoCommand" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="137,174.72,130,194.72,123,174.72,137,174.72" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[0033d2ff100cf4e8e4cef554c0754d7b]
reverse link IReplCommand to ClearCommand--><path d="M189.31,180.98 C216.28,155.52 246.71,126.78 267.4,107.24 " fill="none" id="IReplCommand&lt;-ClearCommand" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="194.11,186.08,174.77,194.72,184.5,175.9,194.11,186.08" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[5e5791852b7c5283c90bd95b91a7abf8]
reverse link IConsoleWriter to ConsoleWriter--><path d="M338,295.56 C338,320.92 338,349.43 338,368.84 " fill="none" id="IConsoleWriter&lt;-ConsoleWriter" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="331,295.26,338,275.26,345,295.26,331,295.26" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[e862d3561474ad113725131281f05788]
link Problem1ReplRunner to ReplCommandRegistry--><path d="M1042.65,96.37 C1090.88,105.15 1152.57,118.97 1205,139 C1245.65,154.53 1288.35,178.11 1321.52,198.25 " fill="none" id="Problem1ReplRunner-&gt;ReplCommandRegistry" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1325.93,200.94,1320.322,192.8437,1321.659,198.3403,1316.1624,199.6773,1325.93,200.94" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[5a1b317f5c45ef8f865273e1490bfa74]
link Problem1ReplRunner to IConsoleWriter--><path d="M879.49,102.97 C831.83,113.21 770.33,124.96 715,131 C684.39,134.34 466.33,126.95 438,139 C409.57,151.09 384.72,175.33 366.91,196.67 " fill="none" id="Problem1ReplRunner-&gt;IConsoleWriter" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="363.66,200.62,372.4576,196.1926,366.8285,196.7521,366.269,191.123,363.66,200.62" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[9cbe9775dff37a79c5535523f829a907]
link Problem1ReplRunner to IExpressionEvaluatorService--><path d="M979.83,107.24 C995.01,125.96 1017.04,153.14 1037.02,177.8 " fill="none" id="Problem1ReplRunner-&gt;IExpressionEvaluatorService" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1040.21,181.73,1037.6391,172.2226,1037.057,177.8494,1031.4302,177.2673,1040.21,181.73" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[38e5354b24836b68f374332923c83554]
link Problem1ReplRunner to IInputValidator--><path d="M879.42,94.44 C829.91,102.63 766.21,116.5 713,139 C677.53,154 641.35,177.56 613.53,197.82 " fill="none" id="Problem1ReplRunner-&gt;IInputValidator" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="609.49,200.78,619.1157,198.6952,613.5256,197.8281,614.3927,192.2381,609.49,200.78" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[63f7a194f9b4caa30668a6134a45ccde]
link InputCommand to IInputValidator--><path d="M625.06,107.24 C613.98,130.79 596.61,167.7 583.22,196.15 " fill="none" id="InputCommand-&gt;IInputValidator" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="580.94,201,588.3964,194.5655,583.0724,196.4775,581.1604,191.1536,580.94,201" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[6fbc741d0bafc7e86c0981b0cde6c081]
link InputCommand to IExpressionEvaluatorService--><path d="M699.23,99.31 C744.56,109.74 807.22,123.05 863,131 C885.29,134.18 943.09,130.65 964,139 C986.64,148.04 1008.34,162.87 1026.96,178.29 " fill="none" id="InputCommand-&gt;IExpressionEvaluatorService" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1031.13,181.8,1026.8091,172.9496,1027.3006,178.585,1021.6652,179.0766,1031.13,181.8" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[5d6209d8a89b6755bb616ae4e5dac46d]
link InputCommand to IConsoleWriter--><path d="M604.52,107.08 C590.39,116.19 573.08,125.73 556,131 C530.89,138.75 461.98,128.25 438,139 C410.02,151.55 385.33,175.52 367.49,196.62 " fill="none" id="InputCommand-&gt;IConsoleWriter" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="364.24,200.52,373.073,196.1635,367.4395,196.6777,366.9253,191.0443,364.24,200.52" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[e7b2fc2cfe6d9dfe382ca5899b19254b]
link EvaluateCommand to IExpressionEvaluatorService--><path d="M500.09,107.24 C516.47,116.5 536.52,126.11 556,131 C599.98,142.04 921.41,123.44 964,139 C987.37,147.54 1009.58,162.6 1028.44,178.4 " fill="none" id="EvaluateCommand-&gt;IExpressionEvaluatorService" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1032.66,181.99,1028.4106,173.1051,1028.8567,178.7443,1023.2174,179.1904,1032.66,181.99" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[dc21fc8420ab2bea08b2b4162f223caa]
link EvaluateCommand to IConsoleWriter--><path d="M444.86,107.24 C425.31,130.98 394.56,168.32 371.06,196.85 " fill="none" id="EvaluateCommand-&gt;IConsoleWriter" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="367.65,201,376.4557,196.5886,370.8255,197.1379,370.2762,191.5077,367.65,201" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[a46f1a6662cea7c2ac8f9185abf21769]
link UndoCommand to IExpressionEvaluatorService--><path d="M161.43,107.06 C176.03,116.41 194.11,126.13 212,131 C252.32,141.96 924.69,124.84 964,139 C987.41,147.43 1009.63,162.47 1028.48,178.27 " fill="none" id="UndoCommand-&gt;IExpressionEvaluatorService" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1032.7,181.86,1028.4506,172.9751,1028.8967,178.6143,1023.2574,179.0604,1032.7,181.86" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[c5ead52108de70f071b2806a2e86e6ec]
link UndoCommand to IConsoleWriter--><path d="M166.21,107.17 C180.15,115.45 196.46,124.35 212,131 C223.51,135.92 228.23,132.63 239,139 C264.37,154.01 288.02,176.94 305.84,196.84 " fill="none" id="UndoCommand-&gt;IConsoleWriter" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="309.33,200.78,306.3582,191.3902,306.0153,197.0367,300.3688,196.6938,309.33,200.78" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[8bbe0f1badc3eb1155b1b30dd8495acc]
link ClearCommand to IExpressionEvaluatorService--><path d="M323.01,107.03 C337.43,116.37 355.29,126.11 373,131 C404.65,139.75 933.12,127.83 964,139 C987.4,147.46 1009.61,162.51 1028.47,178.31 " fill="none" id="ClearCommand-&gt;IExpressionEvaluatorService" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1032.69,181.91,1028.4241,173.0329,1028.8807,178.6713,1023.2423,179.1279,1032.69,181.91" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[f1de04b95dc9c9f83252ade34f7074e3]
link ClearCommand to IConsoleWriter--><path d="M298.99,107.24 C306.07,130.79 317.17,167.7 325.72,196.15 " fill="none" id="ClearCommand-&gt;IConsoleWriter" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="327.18,201,328.4386,191.2319,325.7498,196.2089,320.7728,193.5202,327.18,201" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[250314a9090f87be015012f5536bfb3c]
link ExpressionEvaluatorService to IUndoStackRepository--><path d="M1045.73,368.87 C1022.26,354.3 991.34,335.07 964,318 C949.71,309.08 934.52,299.57 919.81,290.36 " fill="none" id="ExpressionEvaluatorService-&gt;IUndoStackRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="915.27,287.51,920.7943,295.6636,919.514,290.1536,925.0241,288.8732,915.27,287.51" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[c6dc7f0402dc04645039664512c45ed2]
link UndoStackRepository to Token--><path d="M838,417.04 C838,436.77 838,465.24 838,486.41 " fill="none" id="UndoStackRepository-&gt;Token" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="838,491.63,842,482.63,838,486.63,834,482.63,838,491.63" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[ce916d0d2996c516e4c9da480085ba57]
@startuml ExpressionEvaluator

package "Domain.Models" {
  abstract class Token
  class NumberToken {
    +double Value
  }
  class OperatorToken {
    +char Symbol
  }

  Token <|- - NumberToken
  Token <|- - OperatorToken
}

package "Domain.Interfaces" {
  interface IUndoStackRepository {
    +void Push(Token)
    +Token? Pop()
    +IReadOnlyList<Token> GetStack()
    +void Clear()
  }

  interface IExpressionEvaluatorService {
    +void EnterNumber(double)
    +void EnterOperator(char)
    +double Evaluate()
    +void Undo()
    +void Clear()
  }
}

package "Domain.Exceptions" {
  class InvalidExpressionException
}

package "Infrastructure.Repositories" {
  class UndoStackRepository
  IUndoStackRepository <|.. UndoStackRepository
}

package "Application.Services" {
  class ExpressionEvaluatorService
  IExpressionEvaluatorService <|.. ExpressionEvaluatorService
}

package "Repl.Interfaces" {
  interface IReplCommand {
    +string Name
    +string Description
    +Task ExecuteAsync(string[])
  }

  interface IConsoleWriter {
    +void WriteLine(string)
    +void WritePrompt(string)
  }

  interface IInputValidator {
    +bool IsNumber(string, out double)
    +bool IsOperator(string, out char)
  }
}

package "Repl.Commands" {
  class EvaluateCommand
  class InputCommand
  class UndoCommand
  class ClearCommand

  IReplCommand <|.. EvaluateCommand
  IReplCommand <|.. InputCommand
  IReplCommand <|.. UndoCommand
  IReplCommand <|.. ClearCommand
}

package "Repl.Core" {
  class ReplCommandRegistry {
    +void Register(IReplCommand)
    +bool TryResolve(string, out IReplCommand)
  }
}

package "Repl.Adapters" {
  class ConsoleWriter
  IConsoleWriter <|.. ConsoleWriter
}

package "Repl" {
  class Problem1ReplRunner
}

Problem1ReplRunner - -> ReplCommandRegistry
Problem1ReplRunner - -> IConsoleWriter
Problem1ReplRunner - -> IExpressionEvaluatorService
Problem1ReplRunner - -> IInputValidator

InputCommand - -> IInputValidator
InputCommand - -> IExpressionEvaluatorService
InputCommand - -> IConsoleWriter

EvaluateCommand - -> IExpressionEvaluatorService
EvaluateCommand - -> IConsoleWriter

UndoCommand - -> IExpressionEvaluatorService
UndoCommand - -> IConsoleWriter

ClearCommand - -> IExpressionEvaluatorService
ClearCommand - -> IConsoleWriter

ExpressionEvaluatorService - -> IUndoStackRepository
UndoStackRepository - -> Token

@enduml

PlantUML version 1.2020.02(Sun Mar 01 06:22:07 AMT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 21.0.7+6-LTS
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>